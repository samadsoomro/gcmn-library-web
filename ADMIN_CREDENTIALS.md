# üîê GCMN Library - Admin Credentials

## Default Admin Account

**IMPORTANT**: These are default credentials for initial setup. **CHANGE THEM IMMEDIATELY** after first login in production!

### Admin Login Credentials

```
Email: admin@gcmn.edu.pk
Password: Admin@GCMN2025
```

### Admin Capabilities

The admin account has full access to:
- ‚úÖ **Dashboard** - View statistics and system overview
- ‚úÖ **Books Management** - Add, edit, delete books
- ‚úÖ **Borrow Requests** - Approve/reject student requests
- ‚úÖ **User Management** - View and manage student accounts
- ‚úÖ **Notes Management** - Upload and manage study materials
- ‚úÖ **Rare Books** - Add and manage rare book archives
- ‚úÖ **System Settings** - Configure library settings

---

## Creating Admin Account in Database

### Method 1: Using SQL Script (Recommended)

Run this SQL script after setting up the database:

```sql
USE gcmn_library;

-- Create admin user
INSERT INTO users (
    full_name,
    email,
    phone,
    roll_number,
    password_hash,
    role,
    department,
    semester,
    status
) VALUES (
    'Library Administrator',
    'admin@gcmn.edu.pk',
    '+92 21 36630301',
    'ADMIN-001',
    '$2a$10$YourHashedPasswordHere', -- This will be generated by bcrypt
    'admin',
    'Administration',
    'N/A',
    'active'
);
```

### Method 2: Using Registration API

Send a POST request to create admin:

```bash
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "full_name": "Library Administrator",
    "email": "admin@gcmn.edu.pk",
    "password": "Admin@GCMN2025",
    "phone": "+92 21 36630301",
    "roll_number": "ADMIN-001",
    "department": "Administration",
    "class": "N/A"
  }'
```

Then manually update the role in database:

```sql
UPDATE users SET role = 'admin' WHERE email = 'admin@gcmn.edu.pk';
```

### Method 3: Using Node.js Script

Create `create-admin.js` in backend folder:

```javascript
import bcrypt from 'bcryptjs';
import pool from './src/config/database.js';

async function createAdmin() {
  try {
    const password = 'Admin@GCMN2025';
    const salt = await bcrypt.genSalt(10);
    const password_hash = await bcrypt.hash(password, salt);

    const [result] = await pool.query(
      `INSERT INTO users (
        full_name, email, phone, roll_number, 
        password_hash, role, department, semester, status
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)`,
      [
        'Library Administrator',
        'admin@gcmn.edu.pk',
        '+92 21 36630301',
        'ADMIN-001',
        password_hash,
        'admin',
        'Administration',
        'N/A',
        'active'
      ]
    );

    console.log('‚úÖ Admin account created successfully!');
    console.log('Email: admin@gcmn.edu.pk');
    console.log('Password: Admin@GCMN2025');
    process.exit(0);
  } catch (error) {
    console.error('‚ùå Error creating admin:', error.message);
    process.exit(1);
  }
}

createAdmin();
```

Run with: `node create-admin.js`

---

## Test Admin Account

### Login Steps:

1. Navigate to: `http://localhost:5173/login`
2. Enter email: `admin@gcmn.edu.pk`
3. Enter password: `Admin@GCMN2025`
4. Click "Login"
5. You'll be redirected to `/admin` dashboard

### Verify Admin Access:

After login, you should see:
- Admin Dashboard link in header
- Access to all management features
- Ability to add/edit/delete books
- Approve/reject borrow requests
- Manage users and content

---

## Security Best Practices

### üîí Production Security Checklist:

1. **Change Default Password**
   - Immediately change admin password after first login
   - Use strong password: min 12 characters, uppercase, lowercase, numbers, symbols

2. **Update JWT Secret**
   - Change `JWT_SECRET` in `.env` to a random 64-character string
   - Generate with: `openssl rand -hex 32`

3. **Database Security**
   - Use strong database password
   - Restrict database access to localhost only
   - Enable SSL for database connections

4. **Environment Variables**
   - Never commit `.env` files to version control
   - Use different credentials for development and production
   - Store production secrets securely (use services like Vercel Secrets, Railway Variables)

5. **API Security**
   - Enable rate limiting
   - Add CORS restrictions
   - Implement request validation
   - Use HTTPS in production

6. **Regular Updates**
   - Change admin password every 90 days
   - Review user access regularly
   - Monitor login attempts
   - Keep dependencies updated

---

## Additional Admin Accounts

To create more admin accounts, follow the same process but use different:
- Email addresses
- Roll numbers (e.g., ADMIN-002, ADMIN-003)
- Full names

**Recommended Admin Accounts**:
- Head Librarian
- Assistant Librarian
- System Administrator

---

## Troubleshooting

### Can't Login as Admin?

1. **Check database connection**:
   ```bash
   mysql -u root -p gcmn_library -e "SELECT * FROM users WHERE role='admin';"
   ```

2. **Verify password hash**:
   - Password should be hashed with bcrypt
   - Never store plain text passwords

3. **Check JWT token**:
   - Verify JWT_SECRET is set in `.env`
   - Check token expiration time

4. **Browser console**:
   - Open DevTools (F12)
   - Check for authentication errors
   - Verify API responses

### Reset Admin Password

```sql
-- Generate new hash with bcrypt, then:
UPDATE users 
SET password_hash = '$2a$10$NewHashedPasswordHere' 
WHERE email = 'admin@gcmn.edu.pk';
```

---

## Support

For issues or questions:
- Check documentation files in the package
- Review API endpoints in backend README
- Test with Postman or curl
- Check server logs for errors

**Remember**: Always use secure passwords and change default credentials in production!